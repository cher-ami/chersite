## <a name="SimpleSpaInstallation"></a>Simple SPA installation

This short guide explains how to set up a project without the server-side PHP micro framework, and render a simple index.html to the server, generated by vite.
In order to always keep the same folder structure, this config generates statics in `dist/` folder.

- Create an `index.html` file to the project root:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>
```

- Remove `dist` folder. It will be regenerated on demand.
- Remove [./composer-install.sh](../dist/composer-install.sh). We don't need this script anymore since we don't use the PHP framework.
- Modify your `VITE_APP_BASE` in .env.local and .env? The app base need to be `/` : `VITE_APP_BASE=/`
- Remove `buildDirname`. In [config/config.js](config/config.js), change this values to:

```js
buildDirname: "",
outDir: resolve('dist/')
```

- Remove entries from `input` array. In [config/config.js](config/config.js), change `input` values to:

```js
input: []
```

- Disable `buildDotenvPlugin`. In [config/config.js](config/config.js), change this values to:

```js
buildDotenvOutDir: []
```

- Update base. In [vite.config.ts](vite.config.ts) change base:

```js
base: process.env.VITE_APP_BASE
```

- Change `server.open` value. In [vite.config.ts](vite.config.ts) change open this value:

```js
server: {
  // ...
  open: process.env.DEV_SERVER_OPEN === "true"
  // ...
}
```

- Update buildHtaccessPlugin outputPath to outDir

```ts
buildHtaccessPlugin({
  // ...
  outputPath: config.outDir,
  // ...
})
```

- Update `.htaccess` template in `config/tasks/build-htaccess/templates/.htaccess.template` to redirect to `index.html`

- Update .gitignore. Replace all `dist/front/...` values by `dist/...`
